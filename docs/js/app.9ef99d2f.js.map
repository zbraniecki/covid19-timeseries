{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/components/Controls.vue?0380","webpack:///./src/assets/github.png","webpack:///./src/components/Dashboard.vue?1553","webpack:///./src/assets/twitter.webp","webpack:///./src/assets/cds.svg","webpack:///./src/components/DataTable.vue?a5ff","webpack:///./src/types/index.ts","webpack:///./src/App.vue?4ff1","webpack:///./src/components/Dashboard.vue?336c","webpack:///./src/components/DataTable.vue?eaa5","webpack:///./src/helpers/index.ts","webpack:///src/components/DataTable.vue","webpack:///./src/components/DataTable.vue?79c9","webpack:///./src/components/DataTable.vue","webpack:///./src/components/Chart.vue?a098","webpack:///src/components/Chart.vue","webpack:///./src/components/Chart.vue?0295","webpack:///./src/components/Chart.vue","webpack:///./src/components/Controls.vue?ad52","webpack:///src/components/Controls.vue","webpack:///./src/components/Controls.vue?c10b","webpack:///./src/components/Controls.vue","webpack:///src/components/Dashboard.vue","webpack:///./src/components/Dashboard.vue?ee63","webpack:///./src/components/Dashboard.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Presentation","DataType","View","TaxonomyLevel","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","presentation","tableKey","class","chrome","isChrome","style","staticClass","_l","region","id","_v","_s","_e","item","row","relDay","log","ref","refInFor","date","today","isToday","normalized","backgroundColor","color","todayRow","numFormat","Intl","NumberFormat","undefined","percFormat","percFormat2","minimumFractionDigits","enums","keys","myEnum","values","entries","map","entry","default","input","getKey","getTypeValue","dataType","key2","val","getValuesForDateIdx","idx","point","dates","getValue","selection","dataTypes","view","Delta","totalSelection","getSelectionForView","Total","prev","EMA","total","total3EMA","calculateEMA","total7EMA","Population","mainSelection","getSelectionForDataTypes","mainValue","divideByPopulation","secondarySelection","secondaryValue","dataPoint","meta","population","Math","round","getLatestValue","mainDataType","latest","formatValue","type","valueType","format","getHighestValue","highest","assign","sortData","regions","regionIds","sort","a","b","regionA","regionB","valueA","valueB","isNaN","parseData","regionId","parseDate","searchTokens","generateSearchTokens","year","month","day","split","chunk","parseInt","Error","Date","tokens","Set","addSearchTokensForLevel","Country","State","County","City","Array","from","join","toLowerCase","level","code","add","token","nFormatter","num","digits","si","symbol","rx","toFixed","replace","getNormalizedIndex","state","firstValue","relativeZero","dtValue","interpolateColor","color1","color2","factor","isSameDay","date1","date2","getDate","getMonth","getFullYear","someDate","setDate","getCountNDaysSinceTheLast","days","len","lastValueIdx","vector","getClosestRoundedNumber","str","toString","pow","floor","range","prevTotal","k","isRegionIncluded","searchQuery","taxonomyLevels","includes","taxonomy","cases","sentiment","deaths","active","tested","recovered","hospitalized","metaRowsCount","legendColumn","computed","selectedRegions","$store","getters","nameRow","activeMetaRows","helpers","dataRows","lastRegion","lastRegionNorm","navigator","userAgent","cssVars","updated","$nextTick","$refs","scrollIntoView","mounted","component","draw","watch","methods","svg","selectAll","remove","attr","width","height","append","xAxis","yAxis","_m","directives","rawName","expression","on","$event","$$selectedVal","filter","target","options","selected","_value","multiple","domProps","dataType2","autoNormalizedValue","normalizationValue","setNormalizationValue","composing","regionSearchText","clearSearch","setSelectedRegions","nameAndValue","selectedTaxonomyLevels","setTaxonomyLevel","presentations","views","dataTypes2","regionList","sortedRegions","set","dt","commit","setView","e","checked","components","DataTable","Chart","Controls","Table","Dashboard","DATASET","updateQueryString","params","URLSearchParams","history","replaceState","document","location","pathname","hash","getUserPreferences","search","getAll","getSelection","Cases","use","Store","controls","sortedRegionIds","earliest","minValue","normalizedIndexes","selectedRegionIds","filteredRegions","mutations","setPresentation","setData","setDataTypes","setTaxonomyLevels","actions","strict","config","productionTip","store","render","h","$mount"],"mappings":"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","file":"js/app.9ef99d2f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/covid19-timeseries/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=34741885&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=34741885&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/github.1fbf1eeb.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=786c374e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=786c374e&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/twitter.d4e0338b.webp\";","module.exports = __webpack_public_path__ + \"img/cds.5e68d72d.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTable.vue?vue&type=style&index=0&id=0156d5ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTable.vue?vue&type=style&index=0&id=0156d5ae&scoped=true&lang=css&\"","export enum Presentation {\n  Table = \"table\",\n  Chart = \"chart\"\n}\n\nexport enum DataType {\n  Cases = \"cases\",\n  Deaths = \"deaths\",\n  Active = \"active\",\n  Recovered = \"recovered\",\n  Tested = \"tested\",\n  Hospitalized = \"hospitalized\",\n  Population = \"population\"\n}\n\nexport enum View {\n  Total = \"total\",\n  Delta = \"delta\",\n  EMA = \"ema\"\n}\n\nexport enum TaxonomyLevel {\n  Country = \"country\",\n  State = \"state\",\n  County = \"county\",\n  City = \"city\"\n}\n\nexport interface Selection {\n  presentation: Presentation | null;\n  regions: RegionIds;\n  dataTypes: Array<DataType>;\n  normalizationValue: number | null;\n  view: View | null;\n  taxonomyLevels: Array<TaxonomyLevel>;\n}\n\nexport interface Values {\n  cases: number;\n  deaths: number;\n  active?: number;\n  recovered?: number;\n  tested?: number;\n}\n\nexport interface DataPoint {\n  date: Date;\n  value: Values;\n}\n\nexport interface Region {\n  id: string;\n  dates: Array<DataPoint>;\n  latest: Values;\n  highest: Values;\n  meta: {\n    country: {\n      code?: string;\n      name?: string;\n    };\n    state: {\n      code?: string;\n      name?: string;\n    };\n    county: {\n      code?: string;\n      name?: string;\n    };\n    city: {\n      code?: string;\n      name?: string;\n    };\n    population?: number;\n    taxonomy: TaxonomyLevel;\n  };\n  displayName: string;\n  searchTokens?: string;\n}\n\nexport interface State {\n  controls: {\n    views: Array<Presentation>;\n  };\n  selection: Selection;\n  sortedRegionIds: RegionIds;\n}\n\nexport type Regions = { [key: string]: Region; };\nexport type RegionList = Array<Region>;\nexport type RegionIds = Array<string>;\n\n/* Inputs */\n\nexport interface SelectionInput {\n  presentation: Presentation | null;\n  regions: RegionIds;\n  dataTypes: Array<DataType>;\n  normalizationValue: number | null;\n  view: View | null;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dashboard')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dashboard\"}},[_c('main',[(_vm.presentation == _vm.tableKey)?_c('data-table',{attrs:{\"id\":\"dataTable\"}}):_c('chart',{attrs:{\"id\":\"chart\"}})],1),_c('aside',[_c('controls')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{class:{ chrome: _vm.isChrome },style:(_vm.cssVars),attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\"}},[_c('thead',[_c('tr',{staticClass:\"name\"},[_c('th'),_vm._l((_vm.nameRow),function(region){return _c('th',{key:region.id,attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(region.name))])}),(_vm.legendColumn)?_c('th',{staticClass:\"legend\"}):_vm._e()],2),_vm._l((_vm.activeMetaRows),function(item){return _c('tr',{key:item.id,class:item.id},[_c('th',[_vm._v(_vm._s(item.name)+\":\")]),_vm._l((item.values),function(value){return _c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(value))])}),(_vm.legendColumn)?_c('th',{staticClass:\"legend\"}):_vm._e()],2)}),_c('tr',[_c('th',[_vm._v(\"Δ Day\")]),_vm._l((_vm.selectedRegions),function(region){return [_c('th',{staticClass:\"date\"},[_vm._v(\"Date\")]),_c('th',{staticClass:\"value\"},[_vm._v(\"#\")])]}),(_vm.legendColumn)?_c('th',{staticClass:\"legend\"}):_vm._e()],2)],2),_c('tbody',_vm._l((_vm.dataRows),function(row){return _c('tr',{key:row.relDay,class:{ log: row.relDay < 0 }},[_c('td',{staticClass:\"relDay\",attrs:{\"title\":\"Click here to center\"}},[_c('a',{ref:'day' + row.relDay,refInFor:true,staticClass:\"target\",attrs:{\"name\":'day' + row.relDay}}),_c('a',{attrs:{\"href\":'#day' + row.relDay}},[_vm._v(_vm._s(row.relDay))])]),_vm._l((row.dates),function(date){return [(date)?[_c('td',{class:{\n              date: date,\n              today: date.isToday,\n              normalized: date.normalized\n            }},[_vm._v(_vm._s(date.date))]),_c('td',{staticClass:\"value\",class:{ normalized: date.normalized },style:(date.normalized ? {} : { backgroundColor: date.color })},[_vm._v(_vm._s(date.value))])]:[_c('td',{staticClass:\"empty\"}),_c('td',{staticClass:\"empty\"})]]}),(_vm.legendColumn)?_c('td',{staticClass:\"legend\"},[_vm._v(_vm._s(row.relDay == 0 ? \"← Normalized relative day\" : row.relDay == _vm.todayRow ? \"← Today\" : \"\"))]):_vm._e()],2)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n  Selection,\n  Region,\n  State,\n  DataType,\n  DataPoint,\n  Regions,\n  RegionIds,\n  Values,\n  TaxonomyLevel,\n  View,\n} from \"@/types\";\n\nconst numFormat = new Intl.NumberFormat(undefined);\nconst percFormat = new Intl.NumberFormat(undefined, { style: \"percent\" });\nconst percFormat2 = new Intl.NumberFormat(undefined, { style: \"percent\", minimumFractionDigits: 1 });\n\nexport default {\n  enums: {\n    keys<T>(myEnum: T): (keyof T)[] {\n      return Object.keys(myEnum) as any;\n    },\n    values<T>(myEnum: T): Array<any> {\n      return Object.values(myEnum) as any;\n    },\n    entries<T>(myEnum: T): { id: keyof T; name: string }[] {\n      return Object.entries(myEnum).map((entry) => {\n        return { id: entry[1], name: entry[0] };\n      });\n    },\n    default<T>(myEnum: T): T {\n      return (Object.keys(myEnum)[0] as unknown) as T;\n    },\n    get<T>(myEnum: T, input: string | null): any | null {\n      return null;\n    },\n    getKey<T>(myEnum: T): string {\n      return (myEnum as unknown) as string;\n    },\n  },\n  getTypeValue(values: Values, dataType: DataType): number | null {\n    const key: string = this.enums.getKey(dataType);\n    const key2: keyof Values = key as keyof Values;\n    const val = values[key2];\n    if (val === undefined) {\n      return null;\n    }\n    return val;\n  },\n  getValuesForDateIdx(region: Region, idx: number): DataPoint | null {\n    const point = region.dates[idx];\n    if (point === undefined) {\n      return null;\n    } else {\n      return point;\n    }\n  },\n  getValue(region: Region, idx: number, selection: Selection): number | null {\n    const dataTypes = selection.dataTypes;\n    const view = selection.view;\n\n    if (view === View.Delta) {\n      const totalSelection = this.getSelectionForView(selection, View.Total);\n      const value = this.getValue(region, idx, totalSelection);\n      if (value === null) {\n        return value;\n      }\n      const prev = this.getValue(region, idx - 1, totalSelection);\n      if (prev === null) {\n        return null;\n      } else if (prev === value) {\n        return 0;\n      } else {\n        if (prev === 0) {\n          return 1;\n        }\n        return value / prev - 1;\n      }\n    }\n\n    if (view === View.EMA) {\n      const totalSelection = this.getSelectionForView(selection, View.Total);\n      let total = this.getValue(region, idx, totalSelection);\n      if (total === null) {\n        return null;\n      }\n      const total3EMA = this.calculateEMA(region, idx, 3, totalSelection);\n      const total7EMA = this.calculateEMA(region, idx, 7, totalSelection);\n      if (total3EMA === null || total7EMA === null) {\n        return null;\n      }\n      return (total3EMA - total7EMA) / total;\n    }\n\n    if (dataTypes.length == 2) {\n      if (dataTypes[1] == DataType.Population) {\n        const mainSelection = this.getSelectionForDataTypes(selection, [\n          dataTypes[0],\n        ]);\n        const mainValue = this.getValue(region, idx, mainSelection);\n        return this.divideByPopulation(region, mainValue);\n      } else {\n        const mainSelection = this.getSelectionForDataTypes(selection, [\n          dataTypes[0],\n        ]);\n        const mainValue = this.getValue(region, idx, mainSelection);\n        if (mainValue === null) {\n          return null;\n        }\n        const secondarySelection = this.getSelectionForDataTypes(selection, [\n          dataTypes[1],\n        ]);\n        const secondaryValue = this.getValue(region, idx, secondarySelection);\n        if (secondaryValue === null || secondaryValue === 0) {\n          return null;\n        }\n        return mainValue / secondaryValue;\n      }\n    }\n\n    const dataType = dataTypes[0];\n    if (dataType === DataType.Population) {\n      return null;\n    }\n\n    const dataPoint = this.getValuesForDateIdx(region, idx);\n    if (dataPoint) {\n      return this.getTypeValue(dataPoint.value, dataTypes[0]);\n    }\n    return null;\n  },\n  divideByPopulation(region: Region, value: number | null): number | null {\n    if (!region.meta.population || value === null) {\n      return null;\n    }\n    return Math.round(value / (region.meta.population / 1000000));\n  },\n  getLatestValue(region: Region, selection: Selection): number | null {\n    const mainDataType = selection.dataTypes[0];\n    const idx = this.getTypeValue(region.latest, mainDataType);\n    if (!idx) {\n      return null;\n    }\n\n    return this.getValue(region, idx, selection);\n  },\n  formatValue(value: number | null, selection: Selection): string {\n    if (value === null) {\n      return \"\";\n    }\n    const type = this.valueType(selection);\n    switch (type) {\n      case \"percent\": {\n        return percFormat.format(value);\n      }\n      case \"number\": {\n        return numFormat.format(value);\n      }\n      case \"percentWithPrecision\": {\n        return percFormat2.format(value);\n      }\n    };\n  },\n  valueType(selection: Selection): \"percent\" | \"percentWithPrecision\" | \"number\" {\n    if (selection.view !== View.Total) {\n      return \"percent\";\n    }\n    if (selection.dataTypes.length == 1 || selection.dataTypes[1] == DataType.Population) {\n      return \"number\";\n    }\n    return \"percentWithPrecision\";\n  },\n  getHighestValue(region: Region, selection: Selection): number | null {\n    const mainDataType = selection.dataTypes[0];\n    const value = this.getTypeValue(region.highest, mainDataType);\n\n    if (\n      selection.dataTypes.length > 1 &&\n      selection.dataTypes[1] === \"population\"\n    ) {\n      return this.divideByPopulation(region, value);\n    }\n    return value;\n  },\n  getSelectionForDataTypes(\n    selection: Selection,\n    dataTypes: Array<DataType>\n  ): Selection {\n    return Object.assign({}, selection, { dataTypes });\n  },\n  getSelectionForView(selection: Selection, view: View): Selection {\n    return Object.assign({}, selection, { view });\n  },\n  sortData(regions: Regions, regionIds: RegionIds, selection: Selection): void {\n    const totalSelection = this.getSelectionForView(selection, View.Total);\n    regionIds.sort((a: string, b: string) => {\n      const regionA = regions[a];\n      const regionB = regions[b];\n      const valueA = this.getLatestValue(regionA, totalSelection);\n      const valueB = this.getLatestValue(regionB, totalSelection);\n      if (valueA === null || isNaN(valueA)) {\n        return 1;\n      }\n      if (valueB === null || isNaN(valueB)) {\n        return -1;\n      }\n      return valueB - valueA;\n    });\n  },\n  parseData(regions: Regions): void {\n    for (const regionId in regions) {\n      const region = regions[regionId];\n      for (let idx = 0; idx < region.dates.length; idx++) {\n        const date = this.getValuesForDateIdx(region, idx);\n        if (date !== null) {\n          date.date = this.parseDate((date.date as unknown) as string);\n        }\n      }\n      region.searchTokens = this.generateSearchTokens(region);\n    }\n  },\n  parseDate(input: string): Date {\n    let year;\n    let month;\n    let day;\n\n    let i = 0;\n    for (const chunk of input.split(\"-\")) {\n      switch (i) {\n        case 0:\n          year = parseInt(chunk);\n          break;\n        case 1:\n          month = parseInt(chunk);\n          break;\n        case 2:\n          day = parseInt(chunk);\n          break;\n      }\n      i += 1;\n    }\n    if (year === undefined || month === undefined || day === undefined) {\n      throw new Error(`Failed to parse date: ${input}`);\n    }\n    const date = new Date(year, month - 1, day);\n    return date;\n  },\n  generateSearchTokens(region: Region): string {\n    const tokens: Set<string> = new Set();\n    this.addSearchTokensForLevel(tokens, region, TaxonomyLevel.Country);\n    this.addSearchTokensForLevel(tokens, region, TaxonomyLevel.State);\n    this.addSearchTokensForLevel(tokens, region, TaxonomyLevel.County);\n    this.addSearchTokensForLevel(tokens, region, TaxonomyLevel.City);\n\n    return Array.from(tokens).join(\" \").toLowerCase();\n  },\n  addSearchTokensForLevel(\n    tokens: Set<string>,\n    region: Region,\n    level: TaxonomyLevel\n  ): void {\n    const { code, name } = region.meta[level];\n    if (code !== undefined) {\n      tokens.add(code.toLowerCase());\n      if (name !== undefined) {\n        for (const token of name.toLowerCase().split(\" \")) {\n          tokens.add(token);\n        }\n      }\n    }\n  },\n  nFormatter(num: number | undefined, digits: number) {\n    if (num === undefined) {\n      return \"\";\n    }\n    const si = [\n      { value: 1, symbol: \"\" },\n      { value: 1e3, symbol: \" k\" },\n      { value: 1e6, symbol: \" M\" },\n      { value: 1e9, symbol: \" B\" },\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    let i;\n    for (i = si.length - 1; i > 0; i--) {\n      if (num >= si[i].value) {\n        break;\n      }\n    }\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\n  },\n  getNormalizedIndex(\n    state: State,\n    region: Region,\n    value: number,\n    selection: Selection\n  ) {\n    const result = {\n      firstValue: null as null | number,\n      relativeZero: null as null | number,\n    };\n    for (let idx = 0; idx < region.dates.length; idx++) {\n      const dtValue = this.getValue(region, idx, selection);\n      if (result.firstValue === null && dtValue) {\n        result.firstValue = idx;\n      }\n      if (dtValue !== null && dtValue > value && idx > 0) {\n        result.relativeZero = idx - 1;\n        break;\n      }\n    }\n    if (result.relativeZero === null) {\n      result.relativeZero = region.dates.length - 1;\n    }\n    return result;\n  },\n  interpolateColor(\n    color1: Array<number>,\n    color2: Array<number>,\n    factor: number\n  ) {\n    const result = color1.slice();\n    for (let i = 0; i < 3; i++) {\n      result[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));\n    }\n    return `rgb(${result[0]}, ${result[1]}, ${result[2]})`;\n  },\n  isSameDay(date1: Date, date2: Date) {\n    return (\n      date1.getDate() == date2.getDate() &&\n      date1.getMonth() == date2.getMonth() &&\n      date1.getFullYear() == date2.getFullYear()\n    );\n  },\n  isToday(someDate: Date) {\n    const today = new Date();\n    today.setDate(today.getDate() - 1);\n    return this.isSameDay(today, someDate);\n  },\n  getCountNDaysSinceTheLast(\n    region: Region,\n    days: number,\n    selection: Selection\n  ): number | null {\n    const len = region.dates.length;\n    let lastValueIdx = null;\n\n    for (let idx = len; idx >= 0; idx--) {\n      if (this.getValue(region, idx, selection) !== null) {\n        lastValueIdx = idx;\n        break;\n      }\n    }\n    if (lastValueIdx === null) {\n      return null;\n    }\n\n    let vector = lastValueIdx;\n    for (let idx = lastValueIdx; idx >= 0 && lastValueIdx - days < idx; idx--) {\n      if (this.getValue(region, idx, selection) !== null) {\n        vector = idx;\n      }\n    }\n\n    return this.getValue(region, vector, selection);\n  },\n  getClosestRoundedNumber(input: number | null): number {\n    if (input === null) {\n      return 0;\n    }\n    const str = input.toString();\n    const digits = str.length;\n    const m = Math.pow(10, digits - 1);\n    return Math.floor(input / m) * m;\n  },\n  calculateEMA(\n    region: Region,\n    idx: number,\n    range: number,\n    selection: Selection\n  ): number | null {\n    let total = this.getValue(region, idx, selection);\n    if (total === null || idx < 1) {\n      return total;\n    }\n    let prevTotal = this.calculateEMA(region, idx - 1, range, selection);\n    if (!prevTotal) {\n      return total;\n    }\n\n    var k = 2 / (range + 1);\n    return total * k + prevTotal * (1 - k);\n  },\n  isRegionIncluded(\n    region: Region,\n    selection: Selection,\n    searchQuery: string\n  ): boolean {\n    if (!selection.taxonomyLevels.includes(region.meta.taxonomy)) {\n      return false;\n    }\n    if (\n      searchQuery.length > 0 &&\n      region.searchTokens !== undefined &&\n      !region.searchTokens.includes(searchQuery)\n    ) {\n      return false;\n    }\n    return true;\n  },\n};\n","<template>\n  <table cellspacing=\"0\" cellpadding=\"0\" :class=\"{ chrome: isChrome }\" :style=\"cssVars\">\n    <thead>\n      <tr class=\"name\">\n        <th></th>\n        <th v-for=\"region in nameRow\" :key=\"region.id\" colspan=\"2\">{{ region.name }}</th>\n        <th class=\"legend\" v-if=\"legendColumn\"></th>\n      </tr>\n      <tr v-for=\"item in activeMetaRows\" :key=\"item.id\" :class=\"item.id\">\n        <th>{{ item.name }}:</th>\n        <th v-for=\"value in item.values\" colspan=\"2\">{{ value }}</th>\n        <th class=\"legend\" v-if=\"legendColumn\"></th>\n      </tr>\n      <tr>\n        <th>Δ Day</th>\n        <template v-for=\"region in selectedRegions\">\n          <th class=\"date\">Date</th>\n          <th class=\"value\">#</th>\n        </template>\n        <th class=\"legend\" v-if=\"legendColumn\"></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"row in dataRows\" :key=\"row.relDay\" :class=\"{ log: row.relDay < 0 }\">\n        <td class=\"relDay\" title=\"Click here to center\">\n          <a v-bind:name=\"'day' + row.relDay\" class=\"target\" :ref=\"'day' + row.relDay\"></a>\n          <a :href=\"'#day' + row.relDay\">{{ row.relDay }}</a>\n        </td>\n        <template v-for=\"date of row.dates\">\n          <template v-if=\"date\">\n            <td\n              v-bind:class=\"{\n                date,\n                today: date.isToday,\n                normalized: date.normalized\n              }\"\n            >{{ date.date }}</td>\n            <td\n              class=\"value\"\n              v-bind:style=\"\n                date.normalized ? {} : { backgroundColor: date.color }\n              \"\n              :class=\"{ normalized: date.normalized }\"\n            >{{ date.value }}</td>\n          </template>\n          <template v-else>\n            <td class=\"empty\"></td>\n            <td class=\"empty\"></td>\n          </template>\n        </template>\n        <td\n          class=\"legend\"\n          v-if=\"legendColumn\"\n        >{{ row.relDay == 0 ? \"← Normalized relative day\" : row.relDay == todayRow ? \"← Today\" : \"\" }}</td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport helpers from \"@/helpers/index.ts\";\nimport { View, TaxonomyLevel } from \"@/types\";\n\nconst metaRows = [\n  {\n    id: \"state\",\n    name: \"State\"\n  },\n  {\n    id: \"country\",\n    name: \"Country\"\n  },\n  {\n    id: \"population\",\n    name: \"Popul.\"\n  }\n];\n\nconst dataTypeInfo = {\n  cases: {\n    sentiment: -1\n  },\n  deaths: {\n    sentiment: -1\n  },\n  active: {\n    sentiment: -1\n  },\n  tested: {\n    sentiment: 1\n  },\n  recovered: {\n    sentiment: 1\n  },\n  hospitalized: {\n    sentiment: -1\n  }\n};\n\nconst dtf = new Intl.DateTimeFormat(undefined, {\n  day: \"numeric\",\n  month: \"numeric\"\n});\n\nexport default {\n  name: \"data-table\",\n  data() {\n    return {\n      metaRowsCount: `78px`,\n      legendColumn: true,\n      todayRow: 8,\n    };\n  },\n  computed: {\n    selectedRegions() {\n      return this.$store.getters.selectedRegions;\n    },\n    nameRow() {\n      const selectedRegions = this.$store.getters.selectedRegions;\n      const result = new Array(selectedRegions.length);\n\n      for (const idx in selectedRegions) {\n        const region = selectedRegions[idx];\n        switch (region.meta.taxonomy) {\n          case TaxonomyLevel.Country: {\n            result[idx] = {\n              id: region.id,\n              name: region.meta.country.name,\n            };\n            break;\n          }\n          case TaxonomyLevel.State: {\n            result[idx] = {\n              id: region.id,\n              name: region.meta.state.name,\n            };\n            break;\n          }\n          case TaxonomyLevel.County: {\n            result[idx] = {\n              id: region.id,\n              name: region.meta.county.name,\n            };\n            break;\n          }\n          case TaxonomyLevel.City: {\n            result[idx] = {\n              id: region.id,\n              name: region.meta.city.name,\n            };\n            break;\n          }\n\n        }\n      }\n      return result;\n    },\n    activeMetaRows() {\n      const selectedRegions = this.$store.getters.selectedRegions;\n\n      const values = {};\n\n      for (const idx in selectedRegions) {\n        const region = selectedRegions[idx];\n        switch (region.meta.taxonomy) {\n          case TaxonomyLevel.Country: {\n            break;\n          }\n          case TaxonomyLevel.State: {\n            if (!values[\"country\"]) {\n              values[\"country\"] = new Array(selectedRegions.length);\n            }\n            values[\"country\"][idx] = region.meta.country.name;\n            break;\n          }\n          case TaxonomyLevel.County: {\n            if (!values[\"state\"]) {\n              values[\"state\"] = new Array(selectedRegions.length);\n            }\n            values[\"state\"][idx] = region.meta.state.name;\n            if (!values[\"country\"]) {\n              values[\"country\"] = new Array(selectedRegions.length);\n            }\n            values[\"country\"][idx] = region.meta.country.name;\n            break;\n          }\n          case TaxonomyLevel.City: {\n            if (!values[\"state\"]) {\n              values[\"state\"] = new Array(selectedRegions.length);\n            }\n            values[\"state\"][idx] = region.meta.state.name;\n            if (!values[\"country\"]) {\n              values[\"country\"] = new Array(selectedRegions.length);\n            }\n            values[\"country\"][idx] = region.meta.country.name;\n            break;\n          }\n        }\n        if (region.meta.population) {\n          if (!values[\"population\"]) {\n            values[\"population\"] = new Array(selectedRegions.length);\n          }\n          values[\"population\"][idx] = helpers.nFormatter(\n            region.meta.population,\n            2\n          );\n        }\n      }\n\n      let rowHeight = 19;\n      let rows = Object.keys(values).length + 1;\n      let x = 40 + (rowHeight * rows);\n      this.metaRowsCount = `-${x}px`;\n\n      const result = [];\n      for (const row of metaRows) {\n        if (values[row.id]) {\n          result.push({\n            id: row.id,\n            name: row.name,\n            values: values[row.id]\n          });\n        }\n      }\n      return result;\n    },\n    dataRows() {\n      const selectedRegions = this.$store.getters.selectedRegions;\n      const normalizedIndexes = this.$store.getters.normalizedIndexes;\n      const selection = this.$store.getters.selection;\n      const mainDataType = selection.dataTypes[0];\n      const allRegions = this.$store.getters.sortedRegions;\n\n      let maxDepth = 0;\n      let max = 0;\n\n      for (const region of selectedRegions) {\n        const normIndexes = normalizedIndexes[region.id];\n        if (normIndexes.firstValue === null) {\n          continue;\n        }\n        const relFirstValue = normIndexes.relativeZero - normIndexes.firstValue;\n        if (maxDepth < relFirstValue) {\n          maxDepth = relFirstValue;\n        }\n        const len = region.dates.length - normIndexes.relativeZero;\n        if (len > max) {\n          max = len;\n        }\n      }\n\n      const result = [];\n\n      let valueType = helpers.valueType(selection);\n      const maxValue = valueType !== \"number\" ? 0.3 :\n        allRegions.length > 0 ? helpers.getHighestValue(selectedRegions[0], selection) : 0;\n\n      for (let idx = 0; idx < maxDepth + max; idx++) {\n        const relDay = idx - maxDepth;\n\n        const dates = [];\n\n        for (const region of selectedRegions) {\n          const normIndexes = normalizedIndexes[region.id];\n          const relFirstValue =\n            normIndexes.relativeZero - normIndexes.firstValue;\n          const regIdx = normIndexes.relativeZero + relDay;\n          if (\n            relDay + relFirstValue < 0 ||\n            regIdx >= region.dates.length ||\n            helpers.getValue(region, regIdx, selection) === null\n          ) {\n            dates.push(null);\n            continue;\n          } else {\n            const date = region.dates[regIdx].date;\n            const value = helpers.getValue(region, regIdx, selection);\n            const colorValue = value / maxValue;\n            const sentiment =\n              dataTypeInfo[mainDataType].sentiment == 1 && value > 0;\n            const maxColor = sentiment ? [0, 255, 0] : [255, 0, 0];\n            dates.push({\n              date: dtf.format(date),\n              value: helpers.formatValue(value, selection),\n              color: helpers.interpolateColor(\n                [255, 255, 255],\n                maxColor,\n                colorValue\n              ),\n              isToday: helpers.isToday(date),\n              normalized: relDay == 0\n            });\n          }\n        }\n\n        result.push({\n          relDay,\n          dates\n        });\n      }\n\n      {\n        const lastRegion = selectedRegions[selectedRegions.length - 1];\n        if (lastRegion) {\n          const lastRegionNorm = normalizedIndexes[lastRegion.id].relativeZero;\n          const lastDate = lastRegion.dates[lastRegion.dates.length - 1];\n          this.todayRow = lastRegion.dates.length - lastRegionNorm - 1;\n        }\n      }\n\n      return result;\n    },\n    isChrome() {\n      return navigator.userAgent.includes(\"Chrome/\");\n    },\n    cssVars() {\n      return {\n        '--meta-rows': this.metaRowsCount,\n      }\n    }\n  },\n  updated: function() {\n    this.$nextTick(function() {\n      if (this.$refs[\"day0\"] && this.$refs[\"day0\"][0]) {\n        this.$refs[\"day0\"][0].scrollIntoView();\n      }\n    });\n  },\n  mounted: function() {\n    this.$nextTick(function() {\n      if (this.$refs[\"day0\"] && this.$refs[\"day0\"][0]) {\n        this.$refs[\"day0\"][0].scrollIntoView();\n      }\n    });\n  }\n};\n</script>\n\n<style scoped>\ntable {\n  border-left: 1px solid #999999;\n  margin-left: 5px;\n  font-size: 0.9em;\n}\n\ntable:not(.chrome) {\n  /* Bug in Chrome prevents sticky header from being positioned properly. */\n  margin-bottom: 100vh;\n}\n\ntable td:nth-child(1),\ntable th:nth-child(1) {\n  border-right: 1px solid #999999;\n}\n\ntable td:nth-of-type(2n + 1),\ntable th:nth-of-type(2n + 1) {\n  border-right: 1px solid #999999;\n}\n\ntable th[colspan=\"2\"] {\n  border-right: 1px solid #999999;\n}\n\ntable th {\n  border-bottom: 1px solid #999999;\n  font-size: 0.8em;\n  color: #999999;\n  padding: 0 5px;\n}\n\ntable thead {\n  position: sticky;\n  top: 0;\n  background-color: white;\n  z-index: 10;\n}\ntable thead tr {\n  height: 18px;\n}\ntable thead tr:nth-child(1) {\n  height: 40px;\n}\n\ntable thead tr:nth-child(1) th {\n  font-size: 1.1em;\n  color: black;\n  padding: 5px 10px 0px 10px;\n  white-space: nowrap;\n}\n\ntable tbody td.relDay {\n  text-align: center;\n}\n\ntable tbody tr.log {\n  opacity: 0.5;\n}\n\ntable.chrome tbody tr.log {\n  /* Bug in Chrome prevents sticky header from being positioned properly. */\n  display: none;\n}\n\ntable tbody td:not(.empty) {\n  border-bottom: 1px solid #dddddd;\n}\n\ntable thead th {\n  padding: 1px 10px;\n}\n\ntable tbody td {\n  padding: 3px 10px;\n}\n\ntable tbody td.date,\ntable thead th.date {\n  color: #999999;\n  font-weight: bold;\n  font-size: 0.7em;\n  text-align: right;\n}\n\ntable td.today {\n  background-color: #ffffcc;\n}\n\ntable td.normalized {\n  background-color: rgb(221, 238, 255);\n}\n\ntable tbody td.value,\ntable thead th.value {\n  text-align: right;\n}\n\na.target {\n  display: block;\n  position: relative;\n  top: var(--meta-rows);\n  visibility: hidden;\n}\ntd.relDay {\n  padding: 0;\n}\n\ntd.relDay a[href] {\n  color: black;\n  text-decoration: none;\n  display: inline-block;\n  width: 100%;\n}\n\ntd.relDay:hover {\n  text-decoration: underline;\n  background-color: #eeeeee;\n}\n\nth.legend,\ntd.legend {\n  border: 0 !important;\n  opacity: 0.6;\n  white-space: nowrap;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataTable.vue?vue&type=template&id=0156d5ae&scoped=true&\"\nimport script from \"./DataTable.vue?vue&type=script&lang=js&\"\nexport * from \"./DataTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataTable.vue?vue&type=style&index=0&id=0156d5ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0156d5ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"id\":\"chartSvg\",\"width\":\"100%\",\"height\":\"100%\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <svg id=\"chartSvg\" width=\"100%\" height=\"100%\" />\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"chart\",\n  computed: {\n    selectedRegions() {\n      return this.$store.getters.selectedRegions;\n    },\n    ...mapState([\"data\"])\n  },\n  mounted() {\n    const selected = this.$store.getters.selectedRegions;\n    let result = selected[0];\n    if (result) {\n      this.draw(result);\n    }\n  },\n  watch: {\n    selectedRegions(newValue) {\n      const selected = this.$store.getters.selectedRegions;\n      let result = selected[0];\n      if (result) {\n        this.draw(result);\n      }\n    },\n    data(newValue) {\n      let data = newValue;\n      if (!data.length) {\n        return;\n      }\n      data = data[0];\n      if (data) {\n        this.draw(data);\n      }\n    }\n  },\n  methods: {\n    draw(region) {\n      const height = 500;\n      const width = 500;\n      const margin = { top: 20, right: 30, bottom: 30, left: 60 };\n      const dataType = this.$store.getters.selection.dataTypes[0];\n\n      const svg = d3.select(\"#chart\");\n      svg.selectAll(\"*\").remove();\n      svg.attr(\"viewBox\", [0, 0, width, height]);\n\n      const x = d3\n        .scaleUtc()\n        .domain(d3.extent(region.dates, d => new Date(d.date)))\n        .range([margin.left, width - margin.right]);\n      const y = d3\n        .scaleLinear()\n        .domain([0, d3.max(region.dates, d => d.value[dataType])])\n        .nice()\n        .range([height - margin.bottom, margin.top]);\n\n      const xAxis = g =>\n        g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n          d3\n            .axisBottom(x)\n            .ticks(width / 80)\n            .tickSizeOuter(0)\n        );\n      const yAxis = g =>\n        g\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .call(d3.axisLeft(y))\n          .call(g => g.select(\".domain\").remove());\n      const line = d3\n        .line()\n        .defined(d => !isNaN(d.value[dataType]))\n        .x(d => x(new Date(d.date)))\n        .y(d => y(d.value[dataType]));\n      svg.append(\"g\").call(xAxis);\n      svg.append(\"g\").call(yAxis);\n      svg\n        .append(\"path\")\n        .datum(region.dates)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"d\", line);\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chart.vue?vue&type=template&id=0f7989ee&scoped=true&\"\nimport script from \"./Chart.vue?vue&type=script&lang=js&\"\nexport * from \"./Chart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f7989ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"menu\"}},[_vm._m(0),_c('label',{attrs:{\"for\":\"dataTypeSelect\"}},[_vm._v(\"Type:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dataType),expression:\"dataType\"}],attrs:{\"id\":\"dataTypeSelect\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.dataType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.dataTypes),function(dataType){return _c('option',{domProps:{\"value\":dataType.id}},[_vm._v(\" \"+_vm._s(dataType.name)+\" \")])}),0),_c('label',{attrs:{\"for\":\"dataType2Select\"}},[_vm._v(\"Per:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dataType2),expression:\"dataType2\"}],attrs:{\"id\":\"dataType2Select\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.dataType2=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.dataTypes2),function(dataType){return _c('option',{domProps:{\"value\":dataType.id}},[_vm._v(\" \"+_vm._s(dataType.name)+\" \")])}),0),_c('label',{attrs:{\"for\":\"viewSelect\"}},[_vm._v(\"View:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.view),expression:\"view\"}],attrs:{\"id\":\"viewSelect\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.view=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.views),function(view){return _c('option',{domProps:{\"value\":view.id}},[_vm._v(_vm._s(view.name))])}),0),_c('label',{attrs:{\"for\":\"normalizeInput\"}},[_vm._v(\"Normalize:\")]),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.autoNormalizedValue,\"id\":\"normalizeInput\"},domProps:{\"value\":_vm.normalizationValue},on:{\"change\":_vm.setNormalizationValue}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.regionSearchText),expression:\"regionSearchText\"}],staticClass:\"regionSearch\",attrs:{\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.regionSearchText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.regionSearchText=$event.target.value}}}),_c('input',{staticClass:\"clearRegionSearch\",attrs:{\"type\":\"button\",\"value\":\"x\"},on:{\"click\":_vm.clearSearch}}),_c('select',{ref:\"regionSelect\",staticClass:\"regions\",attrs:{\"multiple\":\"\"},on:{\"change\":_vm.setSelectedRegions}},_vm._l((_vm.regionList),function(region){return _c('option',{key:region.id,domProps:{\"value\":region.id,\"selected\":_vm.selectedRegions.includes(region.id)}},[_vm._v(_vm._s(region.nameAndValue))])}),0),_vm._l((_vm.taxonomyLevels),function(level){return [_c('label',{attrs:{\"for\":level.id + 'Level'}},[_vm._v(_vm._s(level.name)+\":\")]),_c('input',{attrs:{\"id\":level.id + 'Level',\"type\":\"checkbox\"},domProps:{\"checked\":_vm.selectedTaxonomyLevels.includes(level.id),\"value\":level.id},on:{\"change\":_vm.setTaxonomyLevel}})]})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"links\"},[_c('a',{attrs:{\"href\":\"https://github.com/zbraniecki/covid19-timeseries\"}},[_vm._v(\"Source: \"),_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/github.png\")}})]),_vm._v(\" | \"),_c('a',{attrs:{\"href\":\"https://coronadatascraper.com/\"}},[_vm._v(\"Data: \"),_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/cds.svg\")}})]),_vm._v(\" | \"),_c('a',{attrs:{\"href\":\"https://twitter.com/Nathan510edge\"}},[_vm._v(\"Idea: \"),_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/twitter.webp\")}}),_vm._v(\"Nathan510edge\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"menu\">\n    <p class=\"links\">\n      <a href=\"https://github.com/zbraniecki/covid19-timeseries\">Source: <img src=\"../assets/github.png\" class=\"icon\"/></a> |\n      <a href=\"https://coronadatascraper.com/\">Data: <img src=\"../assets/cds.svg\" class=\"icon\"/></a> |\n      <a href=\"https://twitter.com/Nathan510edge\">Idea: <img src=\"../assets/twitter.webp\" class=\"icon\"/>Nathan510edge</a>\n    </p>\n    <!-- <label for=\"presentationSelect\">Presentation:</label>\n    <select id=\"presentationSelect\" v-model=\"presentation\">\n      <option v-for=\"presentation of presentations\" :value=\"presentation.id\">{{ presentation.name }}</option>\n    </select> -->\n    <label for=\"dataTypeSelect\">Type:</label>\n    <select id=\"dataTypeSelect\" v-model=\"dataType\">\n      <option v-for=\"dataType of dataTypes\" :value=\"dataType.id\">\n        {{ dataType.name }}\n      </option>\n    </select>\n    <label for=\"dataType2Select\">Per:</label>\n    <select id=\"dataType2Select\" v-model=\"dataType2\">\n      <option v-for=\"dataType of dataTypes2\" :value=\"dataType.id\">\n        {{ dataType.name }}\n      </option>\n    </select>\n    <label for=\"viewSelect\">View:</label>\n    <select id=\"viewSelect\" v-model=\"view\">\n      <option v-for=\"view of views\" :value=\"view.id\">{{ view.name }}</option>\n    </select>\n    <label for=\"normalizeInput\">Normalize:</label>\n    <input\n      type=\"text\"\n      :value=\"normalizationValue\"\n      v-on:change=\"setNormalizationValue\"\n      :placeholder=\"autoNormalizedValue\"\n     id=\"normalizeInput\"\n    />\n    <input class=\"regionSearch\" v-model=\"regionSearchText\" placeholder=\"Search...\" />\n    <input class=\"clearRegionSearch\" type=\"button\" value=\"x\" @click=\"clearSearch\" />\n    <select multiple @change=\"setSelectedRegions\" class=\"regions\" ref=\"regionSelect\">\n      <option\n        v-for=\"region of regionList\"\n        :value=\"region.id\"\n        :key=\"region.id\"\n        :selected=\"selectedRegions.includes(region.id)\"\n      >{{ region.nameAndValue }}</option>\n    </select>\n    <template v-for=\"level in taxonomyLevels\">\n          <label :for=\"level.id + 'Level'\">{{ level.name }}:</label>\n      <input\n        :id=\"level.id + 'Level'\"\n        type=\"checkbox\"\n        :checked=\"selectedTaxonomyLevels.includes(level.id)\"\n        :value=\"level.id\"\n        @change=\"setTaxonomyLevel\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport helpers from \"@/helpers/index.ts\";\nimport { Presentation, DataType, View, TaxonomyLevel } from \"@/types\";\n\nexport default {\n  name: \"controls\",\n  data() {\n    return {\n      presentations: helpers.enums.entries(Presentation),\n      taxonomyLevels: helpers.enums.entries(TaxonomyLevel),\n      regionSearchText: \"\",\n      dataTypes: helpers.enums\n        .entries(DataType)\n        .filter(pres => pres.id != \"population\"),\n      views: helpers.enums.entries(View)\n    };\n  },\n  computed: {\n    dataTypes2() {\n      const selection = this.$store.getters.selection;\n      const mainDataType = selection.dataTypes[0];\n      return [\n        {\n          id: \"\",\n          name: \"\"\n        },\n        ...helpers.enums.entries(DataType).filter(pres => pres.id != mainDataType)\n      ];\n    },\n    regionList() {\n      // Could consider performing this filtering elsewhere.\n      const searchQuery = this.regionSearchText.toLowerCase();\n      const selection = this.$store.getters.selection;\n      return this.$store.getters.sortedRegions.filter(region => helpers.isRegionIncluded(region, selection, searchQuery)).map(region => {\n        let value = helpers.getLatestValue(region, selection);\n        return {nameAndValue: `${region.displayName} -- ${helpers.formatValue(value, selection)}`, ...region};\n      });\n    },\n    selectedRegions() {\n      const selectedRegions = this.$store.getters.selectedRegions;\n      return selectedRegions.map(region => region.id);\n    },\n    normalizationValue() {\n      return this.$store.state.selection.normalizationValue;\n    },\n    autoNormalizedValue() {\n      return this.$store.getters.autoNormalizedValue;\n    },\n    dataType: {\n      get() {\n        return this.$store.getters.selection.dataTypes[0];\n      },\n      set(value) {\n        const dt = this.$store.getters.selection.dataTypes[1];\n        if (dt) {\n          this.$store.commit(\"setDataTypes\", [value, dt]);\n        } else {\n          this.$store.commit(\"setDataTypes\", [value]);\n        }\n      }\n    },\n    dataType2: {\n      get() {\n        return this.$store.getters.selection.dataTypes[1];\n      },\n      set(value) {\n        const dt = this.$store.getters.selection.dataTypes[0];\n\n        if (value) {\n          this.$store.commit(\"setDataTypes\", [dt, value]);\n        } else {\n          this.$store.commit(\"setDataTypes\", [dt]);\n        }\n      }\n    },\n    view: {\n      get() {\n        return this.$store.getters.selection.view;\n      },\n      set(value) {\n        this.$store.commit(\"setView\", value);\n      }\n    },\n    selectedTaxonomyLevels() {\n      return this.$store.getters.selection.taxonomyLevels;\n    },\n    presentation: {\n      get() {\n        return this.$store.getters.selection.presentation;\n      },\n      set(value) {\n        this.$store.commit(\"setPresentation\", value);\n      }\n    },\n  },\n  methods: {\n    setView(e) {\n      this.$store.commit(\"setView\", e.target.value);\n    },\n    setSelectedRegions(e) {\n      const selectedRegionIds = this.$store.getters.selection.regions;\n\n      const values = new Set(selectedRegionIds);\n      const visibleOptions = Array.from(e.target.options).filter(option => !option.classList.contains(\"filtered\"));\n      for (const option of visibleOptions) {\n        if (option.selected) {\n          values.add(option.value);\n        } else {\n          values.delete(option.value);\n        }\n      }\n      this.$store.commit(\"setSelectedRegions\", Array.from(values));\n    },\n    setNormalizationValue(e) {\n      if (e.target.value.length === 0) {\n        this.$store.commit(\"setNormalizationValue\", null);\n      } else {\n        const value = parseInt(e.target.value);\n        this.$store.commit(\"setNormalizationValue\", value);\n      }\n    },\n    clearSearch(e) {\n      this.regionSearchText = \"\";\n    },\n    setTaxonomyLevel(e) {\n      const id = e.target.value;\n      const checked = e.target.checked;\n      const taxonomyLevels = Array.from(this.$store.getters.selection.taxonomyLevels);\n      if (checked) {\n        taxonomyLevels.push(id);\n        this.$store.commit(\"setTaxonomyLevels\", taxonomyLevels);\n      } else {\n        this.$store.commit(\"setTaxonomyLevels\", taxonomyLevels.filter(l => l != id));\n      }\n    },\n  },\n  watch: {\n    selectedRegions(selectedRegionIds) {\n      const select = this.$refs[\"regionSelect\"];\n      for (let option of select.options) {\n        option.selected = selectedRegionIds.includes(option.value);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n#menu {\n  display: grid;\n  grid-template-columns: 2fr 1fr 1fr;\n  grid-template-rows: auto;\n  grid-column-gap: 0px;\n  grid-row-gap: 2px;\n  padding: 5px;\n}\n\nselect, input {\n  grid-column: 2 / 4;\n}\n\ninput[type=checkbox] {\n  grid-column: 3 / 4;\n}\n\nlabel {\n  grid-column: 1 / 2;\n}\n\n.regionSearch {\n  grid-column: 1 / 3;\n}\n\n.clearRegionSearch {\n  grid-column: 3 / 4;\n}\n\nselect.regions {\n  grid-column: 1 / 4;\n  height: 60vh;\n}\n\np.links {\n  grid-column: 1 / 4;\n  font-size: 0.7em;\n  text-align: center;\n  border-bottom: 1px solid #999999;\n  padding-bottom: 5px;\n}\n\np.links a {\n  text-decoration: none;\n}\n\nimg.icon {\n  height: 14px;\n  vertical-align: middle;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=34741885&scoped=true&\"\nimport script from \"./Controls.vue?vue&type=script&lang=js&\"\nexport * from \"./Controls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Controls.vue?vue&type=style&index=0&id=34741885&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34741885\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"dashboard\">\n    <main>\n      <data-table id=\"dataTable\" v-if=\"presentation == tableKey\"></data-table>\n      <chart id=\"chart\" v-else></chart>\n    </main>\n    <aside>\n      <controls></controls>\n    </aside>\n  </div>\n</template>\n\n<script>\nimport DataTable from \"@/components/DataTable.vue\";\nimport Chart from \"@/components/Chart.vue\";\nimport Controls from \"@/components/Controls.vue\";\nimport { Presentation } from \"@/types\";\n\nexport default {\n  name: \"dashboard\",\n  components: {\n    DataTable,\n    Chart,\n    Controls\n  },\n  async mounted() {\n    const data = await fetch(`${__webpack_public_path__}timeseries-converted.json`);\n    const json = await data.json();\n    this.$store.commit(\"setData\", json);\n  },\n  computed: {\n    presentation() {\n      return this.$store.getters.selection.presentation;\n    },\n    tableKey() {\n      return Presentation.Table;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#dashboard {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 80% 20%;\n  grid-template-rows: 100%;\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n}\n\nmain {\n  grid-area: 1 / 1 / 1 / 2;\n  overflow: auto;\n}\n\naside {\n  grid-area: 1 / 2 / 1 / 2;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=786c374e&scoped=true&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&id=786c374e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"786c374e\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Dashboard from \"@/components/Dashboard.vue\";\n\n@Component({\n  components: {\n    Dashboard\n  }\n})\nexport default class App extends Vue {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7d116fd9&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport helpers from \"@/helpers/index.ts\";\nimport {\n  Selection,\n  Region,\n  Presentation,\n  DataType,\n  Regions,\n  RegionList,\n  View,\n  State,\n  SelectionInput,\n  TaxonomyLevel\n} from \"@/types\";\n\nlet DATASET: Regions = {};\n\nVue.use(Vuex);\n\nfunction updateQueryString(state: any) {\n  const params = new URLSearchParams();\n  for (const id of state.selection.regions) {\n    params.append(\"region\", id);\n  }\n  for (const dataType of state.selection.dataTypes) {\n    if (dataType) {\n      params.append(\"dataType\", dataType);\n    }\n  }\n  if (state.selection.view) {\n    params.set(\"view\", state.selection.view);\n  }\n  if (state.selection.normalizationValue) {\n    params.set(\"normalize\", state.selection.normalizationValue);\n  }\n  window.history.replaceState(\n    {},\n    \"\",\n    `${document.location.pathname}?${params}${document.location.hash}`\n  );\n}\n\nfunction getUserPreferences(): SelectionInput {\n  const params = new URLSearchParams(document.location.search);\n  const dataTypes = params.getAll(\"dataType\") as Array<DataType>;\n  const view = params.get(\"view\") as View | null;\n  const normalizationValue = params.get(\"normalize\") as number | null;\n  const presentation = params.get(\"presentation\");\n  return {\n    presentation: helpers.enums.get(Presentation, presentation),\n    regions: params.getAll(\"region\"),\n    dataTypes,\n    view,\n    normalizationValue,\n  };\n}\n\nfunction getSelection(state: State): Selection {\n  return {\n    presentation: state.selection.presentation || Presentation.Table,\n    dataTypes:\n      state.selection.dataTypes.length > 0\n        ? state.selection.dataTypes\n        : [DataType.Cases],\n    view: state.selection.view || View.Total,\n    regions: state.selection.regions.length > 0 ? state.selection.regions : [],\n    normalizationValue: state.selection.normalizationValue,\n    taxonomyLevels: state.selection.taxonomyLevels,\n  };\n}\n\nconst params = getUserPreferences();\n\nexport default new Vuex.Store({\n  state: {\n    controls: {\n      views: helpers.enums.values(Presentation)\n    },\n    selection: {\n      presentation: params.presentation,\n      regions: params.regions,\n      dataTypes: params.dataTypes,\n      normalizationValue: params.normalizationValue,\n      view: params.view,\n      taxonomyLevels: [TaxonomyLevel.Country],\n    },\n    sortedRegionIds: [],\n  },\n  getters: {\n    autoNormalizedValue(state: State, getters): number {\n      const selectedRegions = getters.selectedRegions;\n      if (selectedRegions.length == 0) {\n        return 0;\n      }\n\n      const selection = helpers.getSelectionForView(\n        getters.selection,\n        View.Total\n      );\n      const earliest = [];\n      for (const region of selectedRegions) {\n        earliest.push(helpers.getCountNDaysSinceTheLast(region, 5, selection));\n      }\n\n      let minValue = null;\n      for (const val of earliest) {\n        if (val !== null && (minValue === null || minValue > val)) {\n          minValue = val;\n        }\n      }\n\n      return helpers.getClosestRoundedNumber(minValue);\n    },\n    normalizedIndexes(state, getters) {\n      const result: {\n        [key: string]: {\n          firstValue: number | null;\n          relativeZero: number | null;\n        };\n      } = {};\n\n      const selectedRegions = getters.selectedRegions;\n\n      if (selectedRegions.length == 0) {\n        return result;\n      }\n\n      let value: number | null = state.selection.normalizationValue;\n\n      if (value === null) {\n        value = getters.autoNormalizedValue;\n      }\n\n      const selection = helpers.getSelectionForView(\n        getters.selection,\n        View.Total\n      );\n      for (const region of selectedRegions) {\n        result[region.id] = helpers.getNormalizedIndex(\n          state,\n          region,\n          value as number,\n          selection\n        );\n      }\n\n      return result;\n    },\n    selectedRegions(state: State, getters): RegionList {\n      const result: RegionList = [];\n\n      const selection = getters.selection;\n      let selectedRegionIds = selection.regions;\n      const sortedRegions = getters.sortedRegions;\n\n      if (selectedRegionIds.length === 0) {\n\n        const filteredRegions = sortedRegions.filter((region: Region) => helpers.isRegionIncluded(region, selection, \"\")).slice(0, 7);\n        for (const region of filteredRegions) {\n          result.push(region);\n        }\n      } else {\n        for (const region of sortedRegions) {\n          if (selectedRegionIds.includes(region.id)) {\n            result.push(region);\n          }\n        }  \n      }\n      return result;\n    },\n    selection(state) {\n      return getSelection(state);\n    },\n    sortedRegions(state: State): RegionList {\n      const result: RegionList = [];\n\n      let sortedRegionIds = state.sortedRegionIds;\n\n      for (const regionId of sortedRegionIds) {\n        let region: Region | undefined = DATASET[regionId];\n        if (region !== undefined) {\n          result.push(region);\n        }\n      }\n\n      return result;\n    },\n  },\n  mutations: {\n    setPresentation(state, presentation: Presentation) {\n      state.selection.presentation = presentation;\n    },\n    setSelectedRegions(state, values) {\n      state.selection.regions = values;\n      updateQueryString(state);\n    },\n    setData(state, data) {\n      DATASET = data;\n      helpers.parseData(DATASET);\n  \n      const regionIds = Object\n        .values(DATASET)\n        // .filter((region: Region) => region.meta.taxonomy == \"country\")\n        .map((region: Region) => region.id);\n\n      const selection = getSelection(state);\n      helpers.sortData(DATASET, regionIds, selection);\n      state.sortedRegionIds = regionIds;\n    },\n    setDataTypes(state, dataTypes: Array<DataType>) {\n      state.selection.dataTypes = dataTypes;\n\n      const selection = getSelection(state);\n      helpers.sortData(DATASET, state.sortedRegionIds, selection);\n\n      updateQueryString(state);\n    },\n    setNormalizationValue(state, value) {\n      state.selection.normalizationValue = value;\n      updateQueryString(state);\n    },\n    setView(state, value) {\n      state.selection.view = value;\n      updateQueryString(state);\n    },\n    setTaxonomyLevels(state, value) {\n      state.selection.taxonomyLevels = value;\n    }\n  },\n  actions: {},\n  modules: {},\n  strict: true\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  store,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}